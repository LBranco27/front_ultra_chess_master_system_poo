{"remainingRequest":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/src/newboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/src/newboard.vue","mtime":1663763481352},{"path":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/node_modules/cache-loader/dist/cjs.js","mtime":1663763499653},{"path":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/node_modules/babel-loader/lib/index.js","mtime":1663763499991},{"path":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/node_modules/cache-loader/dist/cjs.js","mtime":1663763499653},{"path":"/home/branco/estudos/ufape/II_periodo/poo/testes/vue-chessboard-examples/node_modules/vue-loader/lib/index.js","mtime":1663763500081}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KCmltcG9ydCB7IGNoZXNzYm9hcmQgfSAgZnJvbSAndnVlLWNoZXNzYm9hcmQnCmltcG9ydCBidXMgZnJvbSAnLi9idXMuanMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ25ld2JvYXJkJywKICBleHRlbmRzOiBjaGVzc2JvYXJkLAogIG1ldGhvZHM6IHsKICAgIHVuZG8oKSB7CiAgICAgIHRoaXMuZ2FtZS51bmRvKCkKICAgICAgdGhpcy5ib2FyZC5zZXQoe2ZlbjogdGhpcy5nYW1lLmZlbigpfSkKICAgIH0sCiAgICB1c2VyUGxheSgpIHsKICAgICAgcmV0dXJuIChvcmlnLCBkZXN0KSA9PiB7CiAgICAgICAgaWYgKHRoaXMuaXNQcm9tb3Rpb24ob3JpZywgZGVzdCkpIHsKICAgICAgICAgIHRoaXMucHJvbW90ZVRvID0gdGhpcy5vblByb21vdGlvbigpCiAgICAgICAgfQogICAgICAgIHRoaXMuZ2FtZS5tb3ZlKHtmcm9tOiBvcmlnLCB0bzogZGVzdCwgcHJvbW90aW9uOiB0aGlzLnByb21vdGVUb30pIC8vIHByb21vdGUgdG8gcXVlZW4gZm9yIHNpbXBsaWNpdHkKICAgICAgICB0aGlzLmJvYXJkLnNldCh7CiAgICAgICAgICBmZW46IHRoaXMuZ2FtZS5mZW4oKQogICAgICAgIH0pCiAgICAgICAgdGhpcy5jYWxjdWxhdGVQcm9tb3Rpb25zKCkKICAgICAgICB0aGlzLmFpTmV4dE1vdmUoKQogICAgICB9OwogICAgfSwKICAgIGFpTmV4dE1vdmUoKSB7CiAgICAgIGxldCBtb3ZlcyA9IHRoaXMuZ2FtZS5tb3Zlcyh7dmVyYm9zZTogdHJ1ZX0pCiAgICAgIGxldCByYW5kb21Nb3ZlID0gbW92ZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbW92ZXMubGVuZ3RoKV0KICAgICAgdGhpcy5nYW1lLm1vdmUocmFuZG9tTW92ZSkKCiAgICAgIHRoaXMuYm9hcmQuc2V0KHsKICAgICAgICBmZW46IHRoaXMuZ2FtZS5mZW4oKSwKICAgICAgICB0dXJuQ29sb3I6IHRoaXMudG9Db2xvcigpLAogICAgICAgIG1vdmFibGU6IHsKICAgICAgICAgIGNvbG9yOiB0aGlzLnRvQ29sb3IoKSwKICAgICAgICAgIGRlc3RzOiB0aGlzLnBvc3NpYmxlTW92ZXMoKSwKICAgICAgICAgIGV2ZW50czogeyBhZnRlcjogdGhpcy51c2VyUGxheSgpfSwKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmJvYXJkLnNldCh7CiAgICAgIG1vdmFibGU6IHsgZXZlbnRzOiB7IGFmdGVyOiB0aGlzLnVzZXJQbGF5KCl9IH0sCiAgICB9KQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGJ1cy4kb24oJ3VuZG8nLCAoKSA9PiB7CiAgICAgIHRoaXMudW5kbygpCiAgICB9KQogIH0KfQo="},{"version":3,"sources":["newboard.vue"],"names":[],"mappings":";;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"newboard.vue","sourceRoot":"src","sourcesContent":["\n<script>\nimport { chessboard }  from 'vue-chessboard'\nimport bus from './bus.js'\n\nexport default {\n  name: 'newboard',\n  extends: chessboard,\n  methods: {\n    undo() {\n      this.game.undo()\n      this.board.set({fen: this.game.fen()})\n    },\n    userPlay() {\n      return (orig, dest) => {\n        if (this.isPromotion(orig, dest)) {\n          this.promoteTo = this.onPromotion()\n        }\n        this.game.move({from: orig, to: dest, promotion: this.promoteTo}) // promote to queen for simplicity\n        this.board.set({\n          fen: this.game.fen()\n        })\n        this.calculatePromotions()\n        this.aiNextMove()\n      };\n    },\n    aiNextMove() {\n      let moves = this.game.moves({verbose: true})\n      let randomMove = moves[Math.floor(Math.random() * moves.length)]\n      this.game.move(randomMove)\n\n      this.board.set({\n        fen: this.game.fen(),\n        turnColor: this.toColor(),\n        movable: {\n          color: this.toColor(),\n          dests: this.possibleMoves(),\n          events: { after: this.userPlay()},\n        }\n      });\n    },\n  },\n  mounted() {\n    this.board.set({\n      movable: { events: { after: this.userPlay()} },\n    })\n  },\n  created() {\n    bus.$on('undo', () => {\n      this.undo()\n    })\n  }\n}\n</script>\n"]}]}